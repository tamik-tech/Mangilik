<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Дело №2309</title>

<style>
:root{
    --bg:#0d0d0f;
    --card:#141418;
    --red:#b30000;
    --text:#e6e6e6;
}

*{
    margin:0;
    padding:0;
    box-sizing:border-box;
}

body{
    background:var(--bg);
    color:var(--text);
    font-family: "Courier New", monospace;
    overflow-x:hidden;
}

/* Шум */
body::before{
    content:"";
    position:fixed;
    inset:0;
    background-image: repeating-radial-gradient(circle at 0 0, rgba(255,255,255,0.02), transparent 2px);
    pointer-events:none;
    z-index:1000;
}

/* Частицы */
.particles{
    position:fixed;
    inset:0;
    overflow:hidden;
    z-index:-1;
}

.particle{
    position:absolute;
    width:2px;
    height:2px;
    background:white;
    opacity:0.1;
    animation:float 15s linear infinite;
}

@keyframes float{
    from{transform:translateY(-10vh);}
    to{transform:translateY(110vh);}
}

/* Общие блоки */
section{
    min-height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    padding:40px 20px;
    text-align:center;
    transition:opacity 1s ease;
}

h1,h2{
    color:var(--red);
    margin-bottom:20px;
    letter-spacing:2px;
}

.card{
    background:var(--card);
    padding:30px;
    border:1px solid var(--red);
    max-width:400px;
    width:100%;
    text-align:left;
    box-shadow:0 0 30px rgba(179,0,0,0.2);
}

button{
    margin-top:20px;
    padding:12px 24px;
    background:transparent;
    color:var(--red);
    border:1px solid var(--red);
    cursor:pointer;
    font-family:inherit;
    transition:all .3s ease;
}

button:hover{
    background:var(--red);
    color:white;
}

.hidden{
    display:none;
}

/* Печатающийся текст */
.typewriter{
    border-right:2px solid var(--red);
    white-space:pre-wrap;
    overflow:hidden;
    display:inline-block;
}

/* Затемнение */
.fade{
    animation:fadeIn 1s forwards;
}

@keyframes fadeIn{
    from{opacity:0;}
    to{opacity:1;}
}

@media(max-width:600px){
    .card{
        padding:20px;
    }
}
</style>
</head>
<body>

<div class="particles" id="particles"></div>

<!-- Экран загрузки -->
<section id="loading">
    <h1 class="typewriter" id="loadingText"></h1>
</section>

<!-- Подозреваемая -->
<section id="suspect" class="hidden">
    <h2>Подозреваемая</h2>
    <div class="card">
        <p><strong>Имя:</strong> __________________</p>
        <p><strong>Возраст:</strong> засекречено</p>
        <p><strong>Особая примета:</strong> вызывает улыбку без причины</p>
        <p><strong>Уровень опасности:</strong> критический для моего спокойствия</p>
        <button onclick="showClues()">Просмотреть улики</button>
    </div>
</section>

<!-- Улики -->
<section id="clues" class="hidden">
    <h2>Улики</h2>
    <div id="clueList"></div>
</section>

<!-- Заключение -->
<section id="conclusion" class="hidden">
    <h2>Заключение эксперта</h2>
    <p class="typewriter" id="conclusionText"></p>
</section>

<!-- Финал -->
<section id="final" class="hidden">
    <h2>Вердикт</h2>
    <button onclick="finalMessage()">Признать вину</button>
    <button onclick="finalMessage()">Обжаловать решение</button>
    <p class="typewriter" id="verdictText"></p>
</section>

<script>

/* Частицы */
const particlesContainer = document.getElementById("particles");
for(let i=0;i<40;i++){
    let p = document.createElement("div");
    p.classList.add("particle");
    p.style.left = Math.random()*100+"%";
    p.style.animationDuration = 10+Math.random()*20+"s";
    p.style.opacity = Math.random()*0.2;
    particlesContainer.appendChild(p);
}

/* Печать текста */
function typeText(element, text, speed=40, callback=null){
    let i=0;
    element.textContent="";
    function typing(){
        if(i<text.length){
            element.textContent += text.charAt(i);
            i++;
            setTimeout(typing, speed);
        }else if(callback){
            callback();
        }
    }
    typing();
}

/* Загрузка */
typeText(
    document.getElementById("loadingText"),
    "Открытие секретного дела №2309…",
    50,
    ()=>{
        setTimeout(()=>{
            document.getElementById("loading").classList.add("hidden");
            document.getElementById("suspect").classList.remove("hidden");
            document.getElementById("suspect").classList.add("fade");
        },1000);
    }
);

/* Улики */
function showClues(){
    document.getElementById("suspect").classList.add("hidden");
    document.getElementById("clues").classList.remove("hidden");
    document.getElementById("clues").classList.add("fade");

    const clues = [
        "Улика №1: улыбка, способная обезоружить",
        "Улика №2: голос, нарушающий концентрацию",
        "Улика №3: переписки до поздней ночи",
        "Улика №4: похищенное внимание",
        "Улика №5: постоянное присутствие в мыслях"
    ];

    let container = document.getElementById("clueList");
    container.innerHTML="";
    clues.forEach((clue,index)=>{
        setTimeout(()=>{
            let p=document.createElement("p");
            p.textContent=clue;
            p.style.margin="10px 0";
            p.style.opacity="0";
            p.style.transition="opacity 1s";
            container.appendChild(p);
            setTimeout(()=>p.style.opacity="1",50);
        },index*800);
    });

    setTimeout(()=>{
        document.getElementById("clues").classList.add("hidden");
        document.getElementById("conclusion").classList.remove("hidden");
        document.getElementById("conclusion").classList.add("fade");

        typeText(
            document.getElementById("conclusionText"),
            "После тщательного анализа установлено:\nподозреваемая полностью виновна\nв похищении моего сердца.\n\n...\n\nДоказательства неопровержимы.",
            40,
            ()=>{
                setTimeout(()=>{
                    document.getElementById("conclusion").classList.add("hidden");
                    document.getElementById("final").classList.remove("hidden");
                    document.getElementById("final").classList.add("fade");
                },1500);
            }
        );

    },clues.length*800+2000);
}

/* Финальное сообщение */
function finalMessage(){
    typeText(
        document.getElementById("verdictText"),
        "\nРешение окончательное.\nПриговор — совместное свидание.\n\nОбжалованию не подлежит.",
        50
    );
}

</script>

</body>
</html>